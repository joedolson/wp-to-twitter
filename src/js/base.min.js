(()=>{(function(e){let d=document.querySelectorAll("input[name=_wpt_post_this]"),n=document.querySelector(".wpt-options-metabox");d.forEach(t=>{t&&t.checked&&t.value==="no"&&(n.style.display="none"),t.addEventListener("change",function(){t.checked&&t.value=="yes"?n.style.display="grid":n.style.display="none"})});let m=document.querySelectorAll("input[name=_wpt_image]"),l=document.querySelector(".wpt_custom_image");m.forEach(t=>{t&&t.checked&&t.value==="1"&&(l.style.display="none"),t.addEventListener("change",function(){t.checked&&t.value=="0"?l.style.display="block":l.style.display="none"})}),e("#wpt_custom_tweet, #wpt_custom_update, #wpt_retweet_0, #wpt_retweet_1, #wpt_retweet_3").charCount({allowed:wptSettings.allowed,x_limit:wptSettings.x_limit,mastodon_limit:wptSettings.mastodon_limit,bluesky_limit:wptSettings.bluesky_limit,counterText:wptSettings.text});let w=e(".service-selection-variants .service-selector input"),o=e("#wpt_custom_tweet").val();o===""&&(o=e("pre.wpt-template").text()),w.each(function(){e(this).on("change",function(){let t=e(this).is(":checked"),s=e(this).val();t===!0?(e("#wpt_custom_tweet_"+s).parent("p").removeClass("hidden"),e("#wpt_custom_tweet_"+s).val(o)):e("#wpt_custom_tweet_"+s).parent("p").addClass("hidden")})}),e("button.toggle-debug").on("click",function(){var t=e(this).next("pre");t.is(":visible")?(t.hide(),e(this).attr("aria-expanded","false")):(t.show(),e(this).attr("aria-expanded","true"))}),e("#wp2t .history").hide(),e("#wp2t .history-toggle").on("click",function(t){let s=e("#wp2t .history-toggle span ");e("#wp2t .history").is(":visible")?(s.addClass("dashicons-plus"),s.removeClass("dashicons-minus"),s.parent("button").attr("aria-expanded","false")):(s.removeClass("dashicons-plus"),s.addClass("dashicons-minus"),s.parent("button").attr("aria-expanded","true")),e("#wp2t .history").toggle(300)});let _=document.querySelectorAll("#wp2t .inline-list button"),a=document.getElementById("wpt_custom_tweet"),p=document.querySelector("#wp2t pre.wpt-template"),r=a!==null?a.value:"",i=p!==null?p.innerText:"";_.forEach(t=>{t.addEventListener("click",function(s){r=a!==null?a.value:"";let h=t.getAttribute("aria-pressed"),u=t.innerText;if(i=r||i,h==="true"){let c=i.replace(u,"").trim();i=c,a.value=c,t.setAttribute("aria-pressed","false")}else i=i+" "+u,a.value=i,t.setAttribute("aria-pressed","true");wp.a11y.speak(wptSettings.updated)})})})(jQuery);})();
